 #{set title:'Listagem de Cadastros' /}

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet"
	integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
<link rel="stylesheet" href="@{'/public/stylesheets/listar.css'}">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">

<body
	style="background: linear-gradient(135deg, rgb(160, 235, 160), rgb(21, 141, 21)), url() no-repeat center center / cover;" >

	<div class="listar">

		<div style="margin: 25px;"> 
		<h2>Listagem de Cadastros</h2>
		<!--tag form com action que tem como objetivo chamar a ação listar-->
		<form action="@{Usuarios.listar}">
			<div class="row">
				<div class="col-12">
					<label class="form-label">Termo de busca:</label>
				</div>
				<div class="col-10">
					<input type="text" name="pesquisar" class="form-control" />
				</div>
				<button type="submit" class="btn btn-primary btn-sm col-1"><i class="bi bi-search"></i></button>
			</div>
			#{if pesquisar}
			<small>Pesquisando por: ${pesquisar}</small>
			#{/if}
			#{else}
			<small>Pesquisando por: TODOS</small>
			#{/else}
		</form>

		<table class="table table-striped">
			<thead>
				<tr>
					<th scope="col" style="text-align:center">NOME</th>
					<th scope="col" style="text-align:center">E-MAIL</th>
					<th scope="col" style="text-align:center">INSTITUIÇÃO</th>
					<th scope="col" style="text-align:center">MARCA</th>
					<th scope="col" style="text-align:center">QUANTIDADE</th>
					<th></th>
					<th></th>
				</tr>
			</thead>
			<tbody>
				#{list items:lista, as:'usu'}
				<tr>
					<td style="text-align:center">${usu.nome}</td>
					<td style="text-align:center">${usu.email}</a></td>
					<td style="text-align:center">${usu.instituicao}</td>
					<td style="text-align:center">${usu.marca}</td>
					<td style="text-align:center">${usu.quantidadePc}</td>
					<td><a href="@{Usuarios.remover(usu.id)}" class="btn btn-danger btn-sm">Remover</a></td>
					<td><a href='@{Usuarios.editar(usu.id)}' class="btn btn-info btn-sm" style="color: white">Editar</a></td>
				</tr>
				#{/list}
			</tbody>
		</table>

		<a href='@{Usuarios.form}' class="btn btn-outline-primary">Cadastrar-se</a>
	</div>
	</div>
</body>